import{r as t,h as e,g as i}from"./p-617dbf5e.js";class n{constructor(e){t(this,e),this.openIcon="dots-vertical",this.closeIcon="dots-horizontal",this.iconSize="xs",this.backButtonTitle="Tagasi",this.menu=[],this.currentMenu=[],this.currentPosition=[],this.lastMenu=[],this.level=0,this.containerClasses=()=>({mobile__nav__container:!0,"mobile-nav--selected":this.open}),this.toggle=()=>{this.open=!this.open}}traverseNav(){let t=0,e=[],i=[0];const n=s=>{if("LI"==(s=s||this.host.children[0]).tagName&&(++t,e.push({title:s.querySelector("a").innerText,id:t,hasChildren:s.querySelector("li"),href:s.querySelector("a").href,parent:i[i.length-1]})),s.hasChildNodes){let e=s.firstChild;for(;e;)1===e.nodeType&&("UL"==e.tagName&&i.push(t),n(e),"UL"==e.tagName&&i.pop()),e=e.nextSibling}};return n(this.host.children[0]),function t(e,i=0){let n=[];return e.forEach(s=>{if(s.parent==i){let i=t(e,s.id);delete s.id,delete s.parent,i.length&&(s.submenu=i),n.push(s)}}),n}(e)}componentWillLoad(){this.menu=this.traverseNav(),this.currentMenu=this.menu}openNextLevel(t){if(t.isBackButton)return this.currentPosition.pop(),void(this.currentMenu=this.currentPosition.reduce((t,e)=>t[e].submenu?t[e].submenu:t,this.menu));t.submenu&&(this.currentPosition.push(this.currentMenu.indexOf(t)),this.lastMenu=this.currentMenu,t.submenu[0].isBackButton||t.submenu.unshift({title:this.backButtonTitle,isBackButton:!0}),this.currentMenu=t.submenu)}render(){return e("div",{class:this.containerClasses()},this.hasIconButton?e("e-button",{"icon-button":!0,onClick:this.toggle,color:"light-gray",size:this.iconSize},e("e-icon",{icon:this.open?`${this.closeIcon}`:`${this.openIcon}`,size:this.iconSize})):e("button",{onClick:this.toggle,class:"mobile-toggle__button"},e("e-icon",{icon:this.open?`${this.closeIcon}`:`${this.openIcon}`,size:this.iconSize})),e("div",{style:{display:this.open?"block":"none"},class:"mobile__nav",ref:t=>this.navRef=t},e("ul",null,this.currentMenu.map(t=>e("li",{onClick:this.openNextLevel.bind(this,t)},e("a",{href:t.href,class:(()=>({"flex-justify-start":t.isBackButton}))()},t.isBackButton&&e("e-icon",{icon:"caret-left"}),e("span",null,t.title),t.hasChildren&&e("e-icon",{icon:"caret-right"})))),this.hasSearch&&e("div",null,e("slot",{name:"languages"}),e("hr",null),e("slot",{name:"searchbox"})))))}handleOutsideClick(t){this.hasSearch?t.target!==this.host&&t.target!==this.host.children[3].children[0].children[0].children[0].children[1]&&(this.open=!1):t.target!==this.host&&(this.open=!1)}get host(){return i(this)}static get style(){return".mobile__nav__container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.mobile__nav{position:absolute;right:0;width:80%;-webkit-box-shadow:var(--shadow-sm);box-shadow:var(--shadow-sm);margin:var(--space-xxs);margin-top:var(--space-xxl);background-color:var(--color-white);z-index:var(--zindex-overlay);font-size:var(--text-sm);padding:var(--space-sm)}\@media only screen and (min-width:48rem){.mobile__nav{right:0;left:auto;width:50%}}.mobile-toggle__button{border:0;cursor:pointer;text-decoration:none;background-color:transparent;outline:none}::slotted([slot=languages]){display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}::slotted([slot=languages]) a{cursor:pointer}ul{padding:0;margin:0}li{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;list-style:none;padding:var(--space-sm) var(--space-md);border-bottom:1px solid var(--color-white-dark)}li:hover{color:var(--color-primary);background-color:var(--color-white-dark)}a{text-decoration:none;color:var(--color-dark);-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-weight:600}a,a span{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.flex-justify-start{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}hr{border:none;background-color:var(--color-white-darker);color:var(--color-white-darker);display:block;height:1px;margin-top:1px}"}}export{n as e_mobile_nav};